# Инструкция настройки проекта для сборки установочного .APK файла

## Шаг 1: Установка движка Unity

> Если уже пользовались Unity и имеете учётную запись, то переходите к [шагу 2](#шаг-2-подготовка-среды-unity-для-проекта).

1.1. Установите [Unity Hub](https://unity.com/ru/download).

1.2. Создайте учётную запись Unity.

## Шаг 2: Подготовка среды Unity для проекта

2.1. Откройте Unity Hub, войдите в учётную запись или создайте новую.

2.2. В левом боковом меню перейдите во вкладку **Installs**.

2.3. Выберите опцию **Install Editor** и выбирите версию начинающеюся со следующих цифр: **2022.3.**

2.4. В открывшимся окне дополнительных модулей выберите **Android Build Support**, удоставерьтесь, что вместе с этим модулем идут 2 дополнительных обязательных модуля: **OpenJDK** и **Android SDK & NDK Tools**. Если вы уже имели дело с Android разработкой и у вас уже установлена Android SDK, всё равно рекомендуется не отключать загрузку дополнительных модулей, так как Unity требует строго определённые версии OpenJDK и NDK Tools.

2.5. Отключите галочку у поля **Microsoft Visual Studio Community 2022** в разделе **Dev Tools**, если вы не хотите устанавливать себе на компьютер редактор исходного кода от Microsoft. Для сборки **.APK** файла редактор исходного кода не понадобится.

## Шаг 3: Сборка .APK файла

3.1. Склонируйте репозиторий к себе на устройство либо скачайте проект в виде **.zip** архива и разархивируйте на своём устройстве.

3.2. В Unity Hub, в левом боковом меню перейдите во вкладку **Projects** и нажмите на кнопку **Add**. Выберите папку с проектом **Pipes**. Проект должен появится в списке проектов внутри Unity Hub.

3.3. Откройте проект через Unity Hub. Скорее всего ваша версия Unity будет отличатся от исходной версии проекта, так что вам предложат подогнать проект под вашу установленную версию Unity. Соглашайтесь со всеми предложениями.

3.4. После загрузки, в открывшемся редакторе перейдите в меню настроек сборки **File -> Build Settings**.

3.5. Выберите платформу Android и нажмите справа снизу окна кнопку **Switch Platform**, если это необходимо.

3.6. Удоставерьтесь что в списке, которых расположен в верхеней части окна, имена необходимых для проекта сцен расположены в следующем порядке и напротив них выставлены галочки:
+ Scenes/MainMenu
+ Scenes/SceneLoading
+ Scenes/Level

3.7. Справа снизу в том же окне нажмите кнопку **Build**, выберите папку в которую Unity положит получившийся **.APK** файл.

## Шаг 4: Установка программы на Android устройство

4.1. Полученный на прошлом шаге **.APK** файл необходимо передать любым способом на мобильное устройство. Проще всего это сделать с помощью передачи по usb кабелю, так как вы точно будете знать в какую именно папку на ваше Android устройство будет скопирован **.APK** файл.

4.2. После успешного копирования **.APK** файла необходимо выполнить его установку в качестве программы на устройстве. Зайдите в файловый менеджер, найдите там нужный **.APK** файл и нажмите на него, устройство должно предложить вам выполнить установку программы. Возможно вы получите сообщение об ошибке вызванное запретом установки программ не из магазина Google Play, тогда необходимо зайти в настройки вашего устройства и включить установку приложений из неизвестных источников.

4.3. Если всё прошло успешно, тогда на вашем рабочем столе появится новое приложение **Pipes**.

___